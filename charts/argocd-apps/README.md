# argocd-apps

![Version: 1.0.2](https://img.shields.io/badge/Version-1.0.2-informational?style=flat-square)

This chart is used to create content objects for ArgoCD like Applications, AppProjects and related K8s secrets for the repo configuration.

Usage example for terraform:

```hcl
resource "helm_release" "argocd-apps" {
  name                  = "argocd-apps"
  repository            = "https://charts.iits.tech"
  chart                 = "argocd-apps"
  version               = "1.0.2"
  namespace             = "argocd"
  create_namespace      = true
  wait                  = true
  atomic                = true
  timeout               = 900 // 15 Minutes
  render_subchart_notes = true
  dependency_update     = true
  wait_for_jobs         = true
  set_sensitive {
    name  = "projects.app-charts.git.password"
    value = var.git_token
  }
  values                = [
    yamlencode({
      projects = {
        infrastructure-charts = {
          tofuValues = {
            projectValues = {
              # Set this to enable stage values-$STAGE.yaml
              stage        = var.stage
              # Example values which are handed down to the project. Like this you can give over information from terraform to argo-cd
              rootDomain  = var.domain_name
            }
          }
          git = {
            repoUrl  = "https://github.com/iits-consulting/otc-infrastructure-charts-template"
          }
        }
      }
    })
  ]
}
```

In the project https://github.com/iits-consulting/otc-infrastructure-charts-template it expects a helm chart
named infrastructure-charts and will install everything from there.

## Values

| Key | Type | Default | Description |
|-----|------|---------|-------------|
| global.syncWindow[0].duration | string | `"24h"` |  |
| global.syncWindow[0].kind | string | `"allow"` |  |
| global.syncWindow[0].manualSync | bool | `true` |  |
| global.syncWindow[0].schedule | string | `"* * * * *"` |  |
| projects | object | `{}` | List of projects with applications which you want to create |

----------------------------------------------
Autogenerated from chart metadata using [helm-docs v1.14.2](https://github.com/norwoodj/helm-docs/releases/v1.14.2)
