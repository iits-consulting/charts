# argocd

![Version: 15.0.1](https://img.shields.io/badge/Version-15.0.1-informational?style=flat-square)

This chart is used to bootstrap a Kubernetes cluster with `argocd`.
You can use this chart to deploy `argocd` through tools like `terraform`.

Usage example:

```hcl
resource "helm_release" "argocd" {
  name                  = "argocd"
  repository            = "https://charts.iits.tech"
  chart                 = "argocd"
  version               = "16.0.0"
  namespace             = "argocd"
  create_namespace      = true
  wait                  = true
  atomic                = true
  timeout               = 900 // 15 Minutes
  render_subchart_notes = true
  dependency_update     = true
  wait_for_jobs         = true
  values                = [
    yamlencode({
      projects = {
        infrastructure-charts = {
          projectValues = {
            # Set this to enable stage $STAGE-values.yaml
            stage        = var.stage
            # Example values which are handed down to the project. Like this you can give over informations from terraform to argocd
            traefikElbId = module.terraform_secrets_from_encrypted_s3_bucket.secrets["elb_id"]
            adminDomain  = var.domain_name
          }

          git = {
            password = var.git_token
            repoUrl  = "https://github.com/iits-consulting/otc-infrastructure-charts-template"
          }
        }
      }
    }
    )
  ]
}
```

In the project https://github.com/iits-consulting/otc-infrastructure-charts-template it expects a helm chart
named infrastructure-charts and will install everything from there.

## Requirements

| Repository | Name | Version |
|------------|------|---------|
| https://argoproj.github.io/argo-helm | argo-cd | 5.30.1 |

## Values

| Key | Type | Default | Description |
|-----|------|---------|-------------|
| argo-cd.controller.env[0].name | string | `"TZ"` |  |
| argo-cd.controller.env[0].value | string | `"Europe/Berlin"` |  |
| argo-cd.controller.env[1].name | string | `"ARGOCD_GPG_ENABLED"` |  |
| argo-cd.controller.env[1].value | string | `"false"` |  |
| argo-cd.controller.logFormat | string | `"json"` |  |
| argo-cd.controller.replicas | int | `2` |  |
| argo-cd.crds.install | string | `"true"` |  |
| argo-cd.dex.env[0].name | string | `"TZ"` |  |
| argo-cd.dex.env[0].value | string | `"Europe/Berlin"` |  |
| argo-cd.dex.env[1].name | string | `"ARGOCD_GPG_ENABLED"` |  |
| argo-cd.dex.env[1].value | string | `"false"` |  |
| argo-cd.dex.logFormat | string | `"json"` |  |
| argo-cd.notifications.enabled | string | `"false"` |  |
| argo-cd.repoServer.containerSecurityContext.seccompProfile.type | string | `"Unconfined"` |  |
| argo-cd.repoServer.env[0].name | string | `"TZ"` |  |
| argo-cd.repoServer.env[0].value | string | `"Europe/Berlin"` |  |
| argo-cd.repoServer.env[1].name | string | `"ARGOCD_GPG_ENABLED"` |  |
| argo-cd.repoServer.env[1].value | string | `"false"` |  |
| argo-cd.repoServer.logFormat | string | `"json"` |  |
| argo-cd.server.env[0].name | string | `"TZ"` |  |
| argo-cd.server.env[0].value | string | `"Europe/Berlin"` |  |
| argo-cd.server.env[1].name | string | `"ARGOCD_GPG_ENABLED"` |  |
| argo-cd.server.env[1].value | string | `"false"` |  |
| argo-cd.server.extraArgs[0] | string | `"--insecure"` |  |
| argo-cd.server.extraArgs[1] | string | `"--rootpath=/argocd"` |  |
| argo-cd.server.extraArgs[2] | string | `"--basehref=/argocd"` |  |
| argo-cd.server.logFormat | string | `"json"` |  |
| projects | string | `nil` | List of projects which you want to bootstrap |

----------------------------------------------
Autogenerated from chart metadata using [helm-docs v1.13.1](https://github.com/norwoodj/helm-docs/releases/v1.13.1)
